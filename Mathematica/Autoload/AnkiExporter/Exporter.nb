(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 9.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       157,          7]
NotebookDataLength[     60121,       1298]
NotebookOptionsPosition[     59805,       1282]
NotebookOutlinePosition[     60191,       1299]
CellTagsIndexPosition[     60148,       1296]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[{
 RowBox[{
  RowBox[{"BeginPackage", "[", 
   RowBox[{"\"\<AnkiExporter`\>\"", ",", 
    RowBox[{"{", "\"\<PackageUtils`\>\"", "}"}]}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"ExportToAnki", "::", "usage"}], " ", "=", 
    "\"\<Function exporting selected sections of the notebook to Anki using \
cloze notes\>\""}], ";"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"Begin", "[", "\"\<`Private`\>\"", "]"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ExportToAnki", "[", 
    RowBox[{"sync_:", "True"}], "]"}], ":=", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "separator", ",", "styleTags", ",", "cells", ",", "sections", ",", 
       "subsections", ",", "subsubsections", ",", "subsubsubsections", ",", 
       "allinfo", ",", "cellids", ",", "celltags", ",", "data", ",", "cloze", 
       ",", "matchEq", ",", "encoding", ",", "eqCloze", ",", "GetTOC", ",", 
       "exported", ",", "filtered", ",", "splited", ",", "marked", ",", 
       "paths", ",", "fixed", ",", "final", ",", "threaded", ",", "deck", ",",
        "title", ",", " ", "base", ",", "dat", ",", "ndir", ",", 
       "tempPicPath", ",", " ", "allspecial", ",", "npath"}], "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"Run", "[", 
       RowBox[{
       "OpenRead", "[", 
        "\"\<!osascript -e 'tell application \\\"Anki\\\" to quit'\>\"", 
        "]"}], "]"}], ";", "\[IndentingNewLine]", 
      RowBox[{"separator", "=", "\"\<#\>\""}], ";", "\[IndentingNewLine]", 
      RowBox[{"ShowStatus", "[", "\"\<Export to Anki begins...\>\"", "]"}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"NotebookDirectory", "[", "]"}], "===", "$Failed"}], ",", 
        RowBox[{
         RowBox[{"ShowStatus", "[", "\"\<Nothing to export\>\"", "]"}], ";", 
         " ", 
         RowBox[{"Abort", "[", "]"}]}]}], "]"}], ";", "\[IndentingNewLine]", 
      RowBox[{"tempPicPath", "=", 
       RowBox[{"Quiet", "@", 
        RowBox[{"Check", "[", 
         RowBox[{
          RowBox[{"CreateDirectory", "[", 
           RowBox[{"\"\<~/Dropbox/Anki/Ranza/collection.media/\>\"", ",", 
            RowBox[{
            "CreateIntermediateDirectories", "\[Rule]", " ", "True"}]}], 
           "]"}], ",", "\"\<~/Dropbox/Anki/Ranza/collection.media/\>\"", ",", 
          
          StyleBox[
           RowBox[{"CreateDirectory", "::", "filex"}], "MessageName"]}], 
         "]"}]}]}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"TeXFix", "[", "what_", "]"}], ":=", 
       RowBox[{"StringReplace", "[", 
        RowBox[{"what", ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{
           "\"\<[/$]}}[$][/$]\>\"", "\[Rule]", " ", "\"\<[/$]}}\>\""}], ",", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{"\"\<\\\\text{\>\"", "~~", 
              RowBox[{"c", ":", 
               RowBox[{
                RowBox[{"Except", "[", "\"\<}\>\"", "]"}], ".."}]}], "~~", 
              "\"\<}\>\""}], ")"}], ":>", 
            RowBox[{"(", 
             RowBox[{"ToString", "@", "c"}], ")"}]}]}], "}"}]}], "]"}]}], ";",
       "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"TeXFixPoor", "[", "what_", "]"}], ":=", 
       RowBox[{"StringReplace", "[", 
        RowBox[{"what", ",", 
         RowBox[{"{", 
          RowBox[{"\"\<[/$]}}[$][/$]\>\"", "\[Rule]", " ", "\"\<[/$]}}\>\""}],
           "}"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"EncodingFix", "[", "what_", "]"}], ":=", 
       RowBox[{"FromCharacterCode", "[", 
        RowBox[{
         RowBox[{"ToCharacterCode", "[", "what", "]"}], ",", "\"\<UTF8\>\""}],
         "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"ToTex", "[", 
        RowBox[{"what_", ",", 
         RowBox[{"n_:", "1"}]}], "]"}], ":=", 
       RowBox[{"Convert`TeX`BoxesToTeX", "[", 
        RowBox[{"what", ",", " ", 
         RowBox[{"\"\<BoxRules\>\"", "\[Rule]", 
          RowBox[{"{", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{
            "\"\<\[Transpose]\>\"", "\[RuleDelayed]", 
             "\"\<^{\\\\mathsf{T}}\>\""}], ",", "\[IndentingNewLine]", 
            RowBox[{
            "\"\<\[ConjugateTranspose]\>\"", "\[RuleDelayed]", 
             "\"\<^{\\\\dagger} \>\""}], ",", "\[IndentingNewLine]", 
            RowBox[{
            "\"\<\[HermitianConjugate]\>\"", "\[RuleDelayed]", 
             "\"\<^{\\\\dagger} \>\""}], ",", "\[IndentingNewLine]", 
            RowBox[{
            "\"\<\[Conjugate]\>\"", "\[RuleDelayed]", "\"\<^{*} \>\""}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{
            "\"\<\[OAcute]\>\"", "\[RuleDelayed]", " ", "\"\<\[OAcute]\>\""}],
             ",", "\[IndentingNewLine]", 
            RowBox[{
            "\"\<\[CapitalOAcute]\>\"", "\[RuleDelayed]", " ", 
             "\"\<\[CapitalOAcute]\>\""}], ",", "\[IndentingNewLine]", 
            RowBox[{
            "\"\<\:015b\>\"", "\[RuleDelayed]", " ", "\"\<\:015b\>\""}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{
            "\"\<\:015a\>\"", "\[RuleDelayed]", " ", "\"\<\:015a\>\""}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{
            "\"\<\[CAcute]\>\"", "\[RuleDelayed]", " ", "\"\<\[CAcute]\>\""}],
             ",", "\[IndentingNewLine]", 
            RowBox[{
            "\"\<\[CapitalCAcute]\>\"", "\[RuleDelayed]", " ", 
             "\"\<\[CapitalCAcute]\>\""}], ",", "\[IndentingNewLine]", 
            RowBox[{
            "\"\<\:0119\>\"", "\[RuleDelayed]", " ", "\"\<\:0119\>\""}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{
            "\"\<\:0118\>\"", "\[RuleDelayed]", " ", "\"\<\:0118\>\""}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{
            "\"\<\:0105\>\"", "\[RuleDelayed]", " ", "\"\<\:0105\>\""}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{
            "\"\<\:0104\>\"", "\[RuleDelayed]", " ", "\"\<\:0104\>\""}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{
            "\"\<\[LSlash]\>\"", "\[RuleDelayed]", " ", "\"\<\[LSlash]\>\""}],
             ",", "\[IndentingNewLine]", 
            RowBox[{
            "\"\<\[CapitalLSlash]\>\"", "\[RuleDelayed]", " ", 
             "\"\<\[CapitalLSlash]\>\""}], ",", "\[IndentingNewLine]", 
            RowBox[{
            "\"\<\:017c\>\"", "\[RuleDelayed]", " ", "\"\<\:017c\>\""}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{
            "\"\<\:017b\>\"", "\[RuleDelayed]", " ", "\"\<\:017b\>\""}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{"\"\<\:017a\>\"", "\[RuleDelayed]", "\"\<\:017a\>\""}], 
            ",", "\[IndentingNewLine]", 
            RowBox[{"\"\<\:0179\>\"", "\[RuleDelayed]", "\"\<\:0179\>\""}], 
            ",", "\[IndentingNewLine]", 
            RowBox[{"\"\<\:0144\>\"", "\[RuleDelayed]", "\"\<\:0144\>\""}], 
            ",", "\[IndentingNewLine]", 
            RowBox[{"\"\<\:0143\>\"", "\[RuleDelayed]", "\"\<\:0143\>\""}], 
            ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{
              RowBox[{"FormBox", "[", 
               RowBox[{
                RowBox[{"GraphicsBox", "[", 
                 RowBox[{
                  RowBox[{"{", "C__", "}"}], ",", "E___", ",", 
                  RowBox[{"ImageSize", "\[Rule]", "D_"}]}], "]"}], ",", 
                "__"}], "]"}], "|", 
              RowBox[{"GraphicsBox", "[", 
               RowBox[{
                RowBox[{"{", "C__", "}"}], ",", "E___", ",", 
                RowBox[{"ImageSize", "\[Rule]", "D_"}]}], "]"}]}], 
             "\[RuleDelayed]", 
             RowBox[{"(", 
              RowBox[{"\"\<\\\\includegraphics[natwidth=\>\"", "<>", 
               RowBox[{"ToString", "[", 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{"First", "@", "D"}], ")"}], "/", "4"}], "]"}], 
               "<>", "\"\<,natheight=\>\"", "<>", 
               RowBox[{"ToString", "[", 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{"First", "@", "D"}], ")"}], "/", "4"}], "]"}], 
               "<>", "\"\<]{\>\"", "<>", 
               RowBox[{"FileNameTake", "@", 
                RowBox[{"Export", "[", 
                 RowBox[{
                  RowBox[{"tempPicPath", "<>", "\"\<f\>\"", "<>", 
                   RowBox[{"ToString", "[", 
                    RowBox[{"Hash", "[", 
                    RowBox[{"Graphics", "[", 
                    RowBox[{
                    RowBox[{"{", "C", "}"}], ",", "E"}], "]"}], "]"}], "]"}], 
                   "<>", "\"\<.png\>\""}], ",", 
                  RowBox[{"Graphics", "[", 
                   RowBox[{
                    RowBox[{"{", "C", "}"}], ",", "E"}], "]"}], ",", 
                  RowBox[{"ImageSize", "\[Rule]", 
                   RowBox[{"{", 
                    RowBox[{
                    RowBox[{"First", "@", "D"}], ",", 
                    RowBox[{"First", "@", "D"}]}], "}"}]}]}], "]"}]}], "<>", 
               "\"\<} \>\""}], ")"}]}], ",", "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{"FormBox", "[", 
              RowBox[{
               RowBox[{"GraphicsBox", "[", "___", "]"}], ",", "___"}], "]"}], 
             "\[RuleDelayed]", " ", "\"\<\>\""}], ",", "\[IndentingNewLine]", 
            
            RowBox[{
             RowBox[{"GraphicsBox", "[", "___", "]"}], "\[RuleDelayed]", " ", 
             "\"\<\>\""}], ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
            
            RowBox[{
             RowBox[{"StyleBox", "[", 
              RowBox[{"D_", ",", 
               RowBox[{"Background", "\[Rule]", "LightGreen"}]}], "]"}], 
             "\[RuleDelayed]", 
             RowBox[{"\"\<\\\\color[HTML]{1111FF}{{c\>\"", "<>", 
              RowBox[{"ToString", "[", "n", "]"}], "<>", "\"\<::\>\"", "<>", 
              RowBox[{"StringReplace", "[", 
               RowBox[{
                RowBox[{"ToTex", "[", "D", "]"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"\"\<{{\>\"", "\[RuleDelayed]", "\"\< { { \>\""}], 
                  ",", 
                  RowBox[{"\"\<}}\>\"", "\[RuleDelayed]", "\"\< } } \>\""}]}],
                  "}"}]}], "]"}], "<>", 
              "\"\< }}\\\\color[HTML]{000000}\>\""}]}]}], "}"}]}]}], "]"}]}], 
      ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"cells", "=", 
       RowBox[{"Cells", "[", 
        RowBox[{
         RowBox[{"EvaluationNotebook", "[", "]"}], ",", 
         RowBox[{"CellStyle", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{
           "\"\<Text\>\"", ",", "\"\<EquationNumbered\>\"", ",", 
            "\"\<Equation\>\"", ",", "\"\<Figure\>\"", ",", "\"\<Item1\>\"", 
            ",", "\"\<Item2\>\"", ",", "\"\<Item3\>\"", ",", 
            "\"\<Item1Numbered\>\"", ",", "\"\<Item2Numbered\>\"", ",", 
            "\"\<Item3Numbered\>\"", ",", "\"\<Theorem\>\"", ",", 
            "\"\<Example\>\"", ",", "\"\<Proof\>\"", ",", "\"\<Axiom\>\"", 
            ",", "\"\<Solution\>\"", ",", "\"\<Definition\>\""}], "}"}]}]}], 
        "]"}]}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"title", "=", 
       RowBox[{"First", "@", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"Cases", "[", 
           RowBox[{
            RowBox[{"NotebookGet", "@", 
             RowBox[{"EvaluationNotebook", "[", "]"}]}], ",", 
            RowBox[{
             RowBox[{"Cell", "[", 
              RowBox[{"name_", ",", 
               RowBox[{"style", ":", "\"\<Title\>\""}], ",", "___"}], "]"}], 
             "\[RuleDelayed]", "name"}], ",", "Infinity"}], "]"}], "/.", 
          RowBox[{
           RowBox[{"{", "}"}], "\[Rule]", " ", 
           RowBox[{"{", "\"\<\>\"", "}"}]}]}], ")"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"ShowStatus", "[", "\"\<Gathering section info...\>\"", "]"}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{"sections", "=", 
       RowBox[{
        RowBox[{
         RowBox[{"CurrentValue", "[", 
          RowBox[{"#", ",", 
           RowBox[{"{", 
            RowBox[{"\"\<CounterValue\>\"", ",", "\"\<Section\>\""}], "}"}]}],
           "]"}], "&"}], "/@", "cells"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"subsections", "=", 
       RowBox[{
        RowBox[{
         RowBox[{"CurrentValue", "[", 
          RowBox[{"#", ",", 
           RowBox[{"{", 
            RowBox[{"\"\<CounterValue\>\"", ",", "\"\<Subsection\>\""}], 
            "}"}]}], "]"}], "&"}], "/@", "cells"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"subsubsections", "=", 
       RowBox[{
        RowBox[{
         RowBox[{"CurrentValue", "[", 
          RowBox[{"#", ",", 
           RowBox[{"{", 
            RowBox[{"\"\<CounterValue\>\"", ",", "\"\<Subsubsection\>\""}], 
            "}"}]}], "]"}], "&"}], "/@", "cells"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"subsubsubsections", "=", 
       RowBox[{
        RowBox[{
         RowBox[{"CurrentValue", "[", 
          RowBox[{"#", ",", 
           RowBox[{"{", 
            RowBox[{"\"\<CounterValue\>\"", ",", "\"\<Subsubsubsection\>\""}],
             "}"}]}], "]"}], "&"}], "/@", "cells"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"celltags", "=", 
       RowBox[{
        RowBox[{
         RowBox[{"ToString", "[", 
          RowBox[{"StringJoin", "[", 
           RowBox[{"separator", ",", 
            RowBox[{"Riffle", "[", 
             RowBox[{
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{"MatchQ", "[", 
                 RowBox[{
                  RowBox[{"CurrentValue", "[", 
                   RowBox[{"#", ",", 
                    RowBox[{"{", "\"\<CellTags\>\"", "}"}]}], "]"}], ",", 
                  "_String"}], "]"}], ",", 
                RowBox[{"{", 
                 RowBox[{"CurrentValue", "[", 
                  RowBox[{"#", ",", 
                   RowBox[{"{", "\"\<CellTags\>\"", "}"}]}], "]"}], "}"}], 
                ",", 
                RowBox[{"CurrentValue", "[", 
                 RowBox[{"#", ",", 
                  RowBox[{"{", "\"\<CellTags\>\"", "}"}]}], "]"}]}], "]"}], 
              ",", "\"\< \>\""}], "]"}]}], "]"}], "]"}], "&"}], "/@", 
        "cells"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"allinfo", "=", 
       RowBox[{"DeleteCases", "[", 
        RowBox[{
         RowBox[{"Replace", "[", 
          RowBox[{
           RowBox[{"Thread", "[", 
            RowBox[{"{", 
             RowBox[{
             "sections", ",", "subsections", ",", "subsubsections", ",", 
              "subsubsubsections"}], "}"}], "]"}], ",", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"x___", ",", 
              RowBox[{"0", "..."}]}], "}"}], "\[RuleDelayed]", 
            RowBox[{"{", "x", "}"}]}], ",", "1"}], "]"}], ",", "0", ",", 
         "2"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"ShowStatus", "[", "\"\<Gathering table of contents\>\"", "]"}],
       ";", "\[IndentingNewLine]", 
      RowBox[{"GetTOC", "=", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{
           RowBox[{"Cases", "[", 
            RowBox[{
             RowBox[{"NotebookGet", "@", 
              RowBox[{"EvaluationNotebook", "[", "]"}]}], ",", 
             RowBox[{
              RowBox[{"Cell", "[", 
               RowBox[{"name_", ",", 
                RowBox[{"style", ":", 
                 RowBox[{
                 "\"\<Section\>\"", "|", "\"\<Subsection\>\"", "|", 
                  "\"\<Subsubsection\>\"", "|", 
                  "\"\<Subsubsubsection\>\""}]}], ",", "___"}], "]"}], 
              "\[RuleDelayed]", 
              RowBox[{"{", 
               RowBox[{"style", ",", 
                RowBox[{"Convert`TeX`BoxesToTeX", "[", " ", 
                 RowBox[{"name", ",", 
                  RowBox[{"\"\<BoxRules\>\"", "\[Rule]", 
                   RowBox[{"{", 
                    RowBox[{"D_String", "\[RuleDelayed]", "D"}], "}"}]}]}], 
                 "]"}]}], "}"}]}], ",", "Infinity"}], "]"}], "/.", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"\"\<Subsubsubsection\>\"", ",", "x_"}], "}"}], 
            "\[RuleDelayed]", 
            RowBox[{"x", "[", "]"}]}]}], "//.", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"x___", ",", 
             RowBox[{"{", 
              RowBox[{"\"\<Subsubsection\>\"", ",", "y_"}], "}"}], ",", 
             RowBox[{"z", ":", 
              RowBox[{
               RowBox[{"Except", "[", "_List", "]"}], "..."}]}], ",", 
             RowBox[{"w", ":", 
              RowBox[{
               RowBox[{"PatternSequence", "[", 
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{"_", ",", "_"}], "}"}], ",", "___"}], "]"}], "|", 
               RowBox[{"PatternSequence", "[", "]"}]}]}]}], "}"}], 
           "\[RuleDelayed]", 
           RowBox[{"{", 
            RowBox[{"x", ",", 
             RowBox[{"y", "[", "z", "]"}], ",", "w"}], "}"}]}]}], "//.", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"x___", ",", 
            RowBox[{"{", 
             RowBox[{"\"\<Subsection\>\"", ",", "y_"}], "}"}], ",", 
            RowBox[{"z", ":", 
             RowBox[{
              RowBox[{"Except", "[", "_List", "]"}], "..."}]}], ",", 
            RowBox[{"w", ":", 
             RowBox[{
              RowBox[{"PatternSequence", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"_", ",", "_"}], "}"}], ",", "___"}], "]"}], "|", 
              RowBox[{"PatternSequence", "[", "]"}]}]}]}], "}"}], 
          "\[RuleDelayed]", 
          RowBox[{"{", 
           RowBox[{"x", ",", 
            RowBox[{"y", "[", "z", "]"}], ",", "w"}], "}"}]}]}], "//.", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"x___", ",", 
           RowBox[{"{", 
            RowBox[{"\"\<Section\>\"", ",", "y_"}], "}"}], ",", 
           RowBox[{"z", ":", 
            RowBox[{
             RowBox[{"Except", "[", "_List", "]"}], "..."}]}], ",", 
           RowBox[{"w", ":", 
            RowBox[{
             RowBox[{"PatternSequence", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"_", ",", "_"}], "}"}], ",", "___"}], "]"}], "|", 
             RowBox[{"PatternSequence", "[", "]"}]}]}]}], "}"}], 
         "\[RuleDelayed]", 
         RowBox[{"{", 
          RowBox[{"x", ",", 
           RowBox[{"y", "[", "z", "]"}], ",", "w"}], "}"}]}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"ShowStatus", "[", "\"\<Preparing paths...\>\"", "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"paths", "=", 
       RowBox[{
        RowBox[{
         RowBox[{"(", 
          RowBox[{"StringJoin", "[", 
           RowBox[{"separator", ",", 
            RowBox[{"title", "<>", "\"\</\>\"", "<>", 
             RowBox[{"Riffle", "[", 
              RowBox[{
               RowBox[{"Head", "/@", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"GetTOC", "[", 
                    RowBox[{"[", 
                    RowBox[{"#", "/.", 
                    RowBox[{"List", "->", "Sequence"}]}], "]"}], "]"}], "&"}],
                   "/@", 
                  RowBox[{"Reverse", "@", 
                   RowBox[{"NestList", "[", 
                    RowBox[{"Most", ",", "#", ",", 
                    RowBox[{
                    RowBox[{"Length", "[", "#", "]"}], "-", "1"}]}], 
                    "]"}]}]}], ")"}]}], ",", "\"\</\>\""}], "]"}]}]}], "]"}], 
          ")"}], "&"}], "/@", "allinfo"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"ShowStatus", "[", "\"\<Extracting data... (1/3)\>\"", "]"}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{"data", "=", 
       RowBox[{"NotebookRead", "@", "cells"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"dat", "=", 
       RowBox[{"Block", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"n", "=", "1"}], "}"}], ",", 
         RowBox[{"ReplaceRepeated", "[", 
          RowBox[{"data", ",", "\[IndentingNewLine]", 
           RowBox[{"{", "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{
              RowBox[{"ButtonBox", "[", 
               RowBox[{
                RowBox[{"DynamicBox", "[", 
                 RowBox[{"C_", ",", "___"}], "]"}], ",", "___"}], "]"}], 
              "\[RuleDelayed]", " ", 
              RowBox[{"Evaluate", "@", "C"}]}], ",", "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"ButtonBox", "[", 
               RowBox[{
                RowBox[{"RowBox", "[", "C__", "]"}], ",", "___"}], "]"}], 
              "\[RuleDelayed]", " ", "C"}], ",", "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"CounterBox", "[", 
               RowBox[{"\"\<FigureCaptionNumbered\>\"", ",", "N_"}], "]"}], 
              "\[RuleDelayed]", " ", 
              RowBox[{"(", 
               RowBox[{"First", "@", 
                RowBox[{"Cases", "[", 
                 RowBox[{"data", ",", 
                  RowBox[{
                   RowBox[{"Cell", "[", 
                    RowBox[{
                    RowBox[{"TextData", "[", "name__", "]"}], ",", "___", 
                    ",", "\"\<Figure\>\"", ",", "___", ",", 
                    RowBox[{"CellTags", "\[Rule]", "N"}], ",", "___"}], "]"}],
                    "\[RuleDelayed]", "name"}], ",", "Infinity"}], "]"}]}], 
               ")"}]}], ",", "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"CounterBox", "[", 
               RowBox[{"\"\<EquationNumbered\>\"", ",", "N_"}], "]"}], 
              "\[RuleDelayed]", " ", 
              RowBox[{"(", 
               RowBox[{"\"\<[$]\>\"", "<>", 
                RowBox[{"ToTex", "[", 
                 RowBox[{"First", "@", 
                  RowBox[{"Cases", "[", 
                   RowBox[{"data", ",", 
                    RowBox[{
                    RowBox[{"Cell", "[", 
                    RowBox[{"name_", ",", "___", ",", 
                    RowBox[{"CellTags", "\[Rule]", "N"}], ",", "___"}], "]"}],
                     "\[RuleDelayed]", "name"}], ",", "Infinity"}], "]"}]}], 
                 "]"}], "<>", "\"\<[/$] \>\""}], ")"}]}], ",", 
             "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"CounterBox", "[", "___", "]"}], "\[RuleDelayed]", 
              "\"\<\>\""}], ",", "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"StyleBox", "[", 
               RowBox[{"D__", ",", 
                RowBox[{"Background", "\[Rule]", "None"}], ",", "E___"}], 
               "]"}], "\[RuleDelayed]", 
              RowBox[{"StyleBox", "[", 
               RowBox[{"D", ",", "E"}], "]"}]}], ",", "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"StyleBox", "[", "D_String", "]"}], "\[RuleDelayed]", 
              "D"}], ",", "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"RowBox", "[", 
               RowBox[{"{", "C__String", "}"}], "]"}], "\[RuleDelayed]", 
              RowBox[{"StringJoin", "@", "C"}]}], ",", "\[IndentingNewLine]", 
             
             RowBox[{
              RowBox[{"Cell", "[", 
               RowBox[{
                RowBox[{"TextData", "[", "data_", "]"}], ",", "style_", ",", 
                "___", ",", " ", 
                RowBox[{"CellID", "\[Rule]", "Nr_Integer"}]}], "]"}], 
              "\[RuleDelayed]", " ", 
              RowBox[{"{", 
               RowBox[{"Nr", " ", ",", "data", ",", "style"}], "}"}]}], ",", 
             "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"Cell", "[", 
               RowBox[{
                RowBox[{"BoxData", "[", "data_", "]"}], ",", "style_", ",", 
                "___", ",", " ", 
                RowBox[{"CellID", "\[Rule]", "Nr_Integer"}]}], "]"}], 
              "\[RuleDelayed]", " ", 
              RowBox[{"{", 
               RowBox[{"Nr", " ", ",", "data", ",", "style"}], "}"}]}], ",", 
             "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"Cell", "[", 
               RowBox[{"data_", ",", "style_", ",", "___", ",", " ", 
                RowBox[{"CellID", "\[Rule]", "Nr_Integer"}]}], "]"}], 
              "\[RuleDelayed]", " ", 
              RowBox[{"{", 
               RowBox[{"Nr", " ", ",", "data", ",", "style"}], "}"}]}], ",", 
             "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"Cell", "[", 
               RowBox[{
                RowBox[{"BoxData", "[", "data_", "]"}], ",", "___"}], "]"}], 
              "\[RuleDelayed]", " ", "data"}]}], "\[IndentingNewLine]", 
            "}"}]}], "]"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{"ShowStatus", "[", "\"\<Extracting data... (2/3)\>\"", "]"}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{"PrintToConsole", "[", 
       RowBox[{
       "\"\<Identified Ank collection folder \>\"", "<>", "tempPicPath"}], 
       "]"}], ";", "\[IndentingNewLine]", 
      RowBox[{"dat", "=", 
       RowBox[{"Block", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"pic", "=", "0"}], "}"}], ",", 
         RowBox[{"ReplaceAll", "[", 
          RowBox[{"dat", ",", 
           RowBox[{"{", "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{
              RowBox[{
               RowBox[{"FormBox", "[", 
                RowBox[{
                 RowBox[{"GraphicsBox", "[", 
                  RowBox[{
                   RowBox[{"{", 
                    RowBox[{"C__", ",", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"FaceForm", "[", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"RGBColor", "[", 
                    RowBox[{"0.88", ",", "1", ",", "0.88"}], "]"}], ",", 
                    RowBox[{"Opacity", "[", "0.6", "]"}]}], "}"}], "]"}], ",",
                     "R__RectangleBox"}], "}"}], ",", "D___"}], "}"}], ",", 
                   "E___"}], "]"}], ",", "__"}], "]"}], "|", 
               RowBox[{"GraphicsBox", "[", 
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{"C__", ",", 
                   RowBox[{"{", 
                    RowBox[{
                    RowBox[{"FaceForm", "[", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"RGBColor", "[", 
                    RowBox[{"0.88", ",", "1", ",", "0.88"}], "]"}], ",", 
                    RowBox[{"Opacity", "[", "0.6", "]"}]}], "}"}], "]"}], ",",
                     "R__RectangleBox"}], "}"}], ",", "D___"}], "}"}], ",", 
                 "E___"}], "]"}]}], "\[RuleDelayed]", 
              RowBox[{"\"\<{{c1::<img src=\\\"\>\"", "<>", 
               RowBox[{"FileNameTake", "@", 
                RowBox[{"Export", "[", 
                 RowBox[{
                  RowBox[{"tempPicPath", "<>", "\"\<f\>\"", "<>", 
                   RowBox[{"ToString", "[", 
                    RowBox[{"++", "pic"}], "]"}], "<>", 
                   RowBox[{"ToString", "[", 
                    RowBox[{"Hash", "[", 
                    RowBox[{"Graphics", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"C", ",", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"FaceForm", "[", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"RGBColor", "[", 
                    RowBox[{"0.88", ",", "1", ",", "0.88"}], "]"}], ",", 
                    RowBox[{"Opacity", "[", "1.0", "]"}]}], "}"}], "]"}], ",",
                     "R"}], "}"}], ",", "D"}], "}"}], ",", "E"}], "]"}], 
                    "]"}], "]"}], "<>", "\"\<a.png\>\""}], ",", 
                  RowBox[{"Cell", "[", 
                   RowBox[{"BoxData", "[", 
                    RowBox[{"GraphicsBox", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"C", ",", "D"}], "}"}], ",", "E"}], "]"}], "]"}], 
                   "]"}]}], "]"}]}], "<>", "\"\<\\\">::<img src=\\\"\>\"", "<>", 
               RowBox[{"FileNameTake", "@", 
                RowBox[{"Export", "[", 
                 RowBox[{
                  RowBox[{"tempPicPath", "<>", "\"\<f\>\"", "<>", 
                   RowBox[{"ToString", "[", "pic", "]"}], "<>", 
                   RowBox[{"ToString", "[", 
                    RowBox[{"Hash", "[", 
                    RowBox[{"Graphics", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"C", ",", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"FaceForm", "[", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"RGBColor", "[", 
                    RowBox[{"0.88", ",", "1", ",", "0.88"}], "]"}], ",", 
                    RowBox[{"Opacity", "[", "1.0", "]"}]}], "}"}], "]"}], ",",
                     "R"}], "}"}], ",", "D"}], "}"}], ",", "E"}], "]"}], 
                    "]"}], "]"}], "<>", "\"\<.png\>\""}], ",", 
                  RowBox[{"Cell", "[", 
                   RowBox[{"BoxData", "[", 
                    RowBox[{"GraphicsBox", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"C", ",", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"FaceForm", "[", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"RGBColor", "[", 
                    RowBox[{"0.88", ",", "1", ",", "0.88"}], "]"}], ",", 
                    RowBox[{"Opacity", "[", "1.0", "]"}]}], "}"}], "]"}], ",",
                     "R"}], "}"}], ",", "D"}], "}"}], ",", "E"}], "]"}], 
                    "]"}], "]"}]}], "]"}]}], "<>", "\"\<\\\">}}\>\""}]}], ",",
              "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                RowBox[{"FormBox", "[", 
                 RowBox[{"C__", ",", " ", "TraditionalForm"}], "]"}], "|", 
                RowBox[{"FormBox", "[", 
                 RowBox[{"C__", ",", " ", "TextForm"}], "]"}]}], ")"}], 
              "\[RuleDelayed]", 
              RowBox[{"(", 
               RowBox[{"\"\<[$]\>\"", "<>", 
                RowBox[{"ToTex", "[", "C", "]"}], "<>", "\"\<[/$] \>\""}], 
               ")"}]}], ",", "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"FormBox", "[", 
               RowBox[{
                RowBox[{"GraphicsBox", "[", "___", "]"}], ",", "___"}], "]"}],
               "\[RuleDelayed]", " ", "\"\<\>\""}], ",", 
             RowBox[{
              RowBox[{"GraphicsBox", "[", "___", "]"}], "\[RuleDelayed]", 
              " ", "\"\<\>\""}], ",", "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"FormBox", "[", 
               RowBox[{
                RowBox[{"RowBox", "[", 
                 RowBox[{"{", 
                  RowBox[{"E___", ",", "TraditionalForm"}], "}"}], "]"}], ",",
                 "___"}], "]"}], "\[RuleDelayed]", " ", 
              RowBox[{"FormBox", "[", 
               RowBox[{
                RowBox[{"RowBox", "[", 
                 RowBox[{"{", "E", "}"}], "]"}], ",", "TraditionalForm"}], 
               "]"}]}]}], "\[IndentingNewLine]", "}"}]}], "]"}]}], "]"}]}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{"ShowStatus", "[", "\"\<Extracting data... (3/3)\>\"", "]"}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{"dat", "=", 
       RowBox[{"Block", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"n", "=", "1"}], "}"}], ",", 
         RowBox[{"ReplaceAll", "[", 
          RowBox[{"dat", ",", 
           RowBox[{"{", "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                RowBox[{"FormBox", "[", 
                 RowBox[{
                  RowBox[{"RowBox", "[", 
                   RowBox[{"{", "C__String", "}"}], "]"}], ",", "TextForm"}], 
                 "]"}], "|", 
                RowBox[{"FormBox", "[", 
                 RowBox[{
                  RowBox[{"RowBox", "[", 
                   RowBox[{"{", "C__String", "}"}], "]"}], ",", 
                  "TraditionalForm"}], "]"}]}], ")"}], "\[RuleDelayed]", 
              RowBox[{"StringJoin", "@", "C"}]}], ",", "\[IndentingNewLine]", 
             
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                RowBox[{"FormBox", "[", 
                 RowBox[{"C__", ",", " ", "TraditionalForm"}], "]"}], "|", 
                RowBox[{"FormBox", "[", 
                 RowBox[{"C__", ",", " ", "TextForm"}], "]"}]}], ")"}], 
              "\[RuleDelayed]", 
              RowBox[{"(", 
               RowBox[{"\"\<[$]\>\"", "<>", 
                RowBox[{"ToTex", "[", "C", "]"}], "<>", "\"\<[/$] \>\""}], 
               ")"}]}], ",", "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"StyleBox", "[", 
               RowBox[{"D_", ",", "E___", " ", ",", 
                RowBox[{"Background", "\[Rule]", "LightGreen"}], ",", 
                "F___"}], "]"}], "\[RuleDelayed]", 
              RowBox[{"(", 
               RowBox[{"\"\<{{c\>\"", "<>", 
                RowBox[{"ToString", "[", "n", "]"}], "<>", "\"\<::\>\"", "<>",
                 "\[IndentingNewLine]", 
                RowBox[{"ReplaceAll", "[", 
                 RowBox[{
                  RowBox[{"StyleBox", "[", 
                   RowBox[{"D", ",", "E", ",", "F"}], "]"}], ",", 
                  RowBox[{"{", "\[IndentingNewLine]", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"StyleBox", "[", 
                    RowBox[{"U_String", ",", "___", ",", 
                    RowBox[{"FontWeight", "\[Rule]", "\"\<Bold\>\""}], ",", 
                    "___"}], "]"}], "\[RuleDelayed]", " ", 
                    RowBox[{"(", 
                    RowBox[{"\"\<<b>\>\"", "<>", "U", "<>", "\"\<</b>\>\""}], 
                    ")"}]}], ",", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"StyleBox", "[", 
                    RowBox[{"U_String", ",", "___", ",", 
                    RowBox[{"FontSlant", "\[Rule]", "\"\<Italic\>\""}], ",", 
                    "___"}], "]"}], "\[RuleDelayed]", " ", 
                    RowBox[{"(", 
                    RowBox[{"\"\<<i>\>\"", "<>", "U", "<>", "\"\<</i>\>\""}], 
                    ")"}]}], ",", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"StyleBox", "[", 
                    RowBox[{"U_String", ",", "___", ",", 
                    RowBox[{"FontWeight", "\[Rule]", "\"\<Plain\>\""}], ",", 
                    "___"}], "]"}], "\[RuleDelayed]", " ", "U"}], ",", 
                    "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"StyleBox", "[", 
                    RowBox[{"U_String", ",", "___", ",", 
                    RowBox[{"FontVariations", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{"___", ",", 
                    RowBox[{"\"\<Underline\>\"", "\[Rule]", "True"}], ",", 
                    "___"}], "}"}]}], ",", "___"}], "]"}], "\[RuleDelayed]", 
                    " ", 
                    RowBox[{"(", 
                    RowBox[{"\"\<<u>\>\"", "<>", "U", "<>", "\"\<</u>\>\""}], 
                    ")"}]}], ",", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"StyleBox", "[", 
                    RowBox[{"U_String", ",", "___", ",", 
                    RowBox[{"FontVariations", "\[Rule]", "__"}], ",", "___"}],
                     "]"}], "\[RuleDelayed]", " ", "U"}], ",", 
                    "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"StyleBox", "[", 
                    RowBox[{"U_String", ",", "___"}], "]"}], "\[RuleDelayed]",
                     "U"}]}], "\[IndentingNewLine]", "}"}]}], "]"}], "<>", 
                "\"\<}}\>\""}], ")"}]}], ",", "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"StyleBox", "[", 
               RowBox[{"D_String", ",", "___", ",", 
                RowBox[{"FontWeight", "\[Rule]", "\"\<Bold\>\""}], ",", 
                "___"}], "]"}], "\[RuleDelayed]", " ", 
              RowBox[{"(", 
               RowBox[{"\"\<<b>\>\"", "<>", "D", "<>", "\"\<</b>\>\""}], 
               ")"}]}], ",", "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"StyleBox", "[", 
               RowBox[{"D_String", ",", "___", ",", 
                RowBox[{"FontSlant", "\[Rule]", "\"\<Italic\>\""}], ",", 
                "___"}], "]"}], "\[RuleDelayed]", " ", 
              RowBox[{"(", 
               RowBox[{"\"\<<i>\>\"", "<>", "D", "<>", "\"\<</i>\>\""}], 
               ")"}]}], ",", "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"StyleBox", "[", 
               RowBox[{"D_String", ",", "___", ",", 
                RowBox[{"FontWeight", "\[Rule]", "\"\<Plain\>\""}], ",", 
                "___"}], "]"}], "\[RuleDelayed]", " ", "D"}], ",", 
             "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"StyleBox", "[", 
               RowBox[{"D_String", ",", "___", ",", 
                RowBox[{"FontVariations", "\[Rule]", 
                 RowBox[{"{", 
                  RowBox[{"___", ",", 
                   RowBox[{"\"\<Underline\>\"", "\[Rule]", "True"}], ",", 
                   "___"}], "}"}]}], ",", "___"}], "]"}], "\[RuleDelayed]", 
              " ", 
              RowBox[{"(", 
               RowBox[{"\"\<<u>\>\"", "<>", "D", "<>", "\"\<</u>\>\""}], 
               ")"}]}], ",", "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"StyleBox", "[", 
               RowBox[{"D_String", ",", "___", ",", 
                RowBox[{"FontVariations", "\[Rule]", "__"}], ",", "___"}], 
               "]"}], "\[RuleDelayed]", " ", "D"}], ",", 
             "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"StyleBox", "[", 
               RowBox[{"D_", ",", " ", 
                RowBox[{"Background", "\[Rule]", "_"}]}], "]"}], 
              "\[RuleDelayed]", 
              RowBox[{"ToString", "[", "n", "]"}]}], ",", 
             "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"RowBox", "[", 
               RowBox[{"{", "C___String", "}"}], "]"}], "\[RuleDelayed]", 
              RowBox[{"StringJoin", "@", "C"}]}]}], "\[IndentingNewLine]", 
            "}"}]}], "]"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"ShowStatus", "[", "\"\<Fixing data... (1/2)\>\"", "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"base", "=", 
       RowBox[{
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"ToString", "[", 
            RowBox[{"First", "@", "#"}], "]"}], "<>", "separator", " ", "<>", 
           " ", 
           RowBox[{"StringReplace", "[", 
            RowBox[{
             RowBox[{"StringJoin", "[", 
              RowBox[{"#", "[", 
               RowBox[{"[", "2", "]"}], "]"}], "]"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"\"\<\\n\>\"", "\[Rule]", " ", "\"\<<br>\>\""}], ",", 
               RowBox[{
               "\"\<\[LineSeparator]\>\"", "\[Rule]", " ", "\"\<<br>\>\""}]}],
               "}"}]}], "]"}]}], ")"}], "&"}], "/@", " ", "dat"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"styleTags", "=", 
       RowBox[{
        RowBox[{
         RowBox[{"(", 
          RowBox[{"\"\< \>\"", "<>", 
           RowBox[{"#", "[", 
            RowBox[{"[", "3", "]"}], "]"}], "<>", "\"\<::\>\"", "<>", " ", 
           RowBox[{"StringReplace", "[", 
            RowBox[{"title", ",", 
             RowBox[{"\"\< \>\"", "\[Rule]", " ", "\"\<\>\""}]}], "]"}]}], 
          ")"}], "&"}], "/@", "dat"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"ShowStatus", "[", "\"\<Fixing data... (2/2)\>\"", "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"base", "=", 
       RowBox[{"StringReplace", "[", 
        RowBox[{"base", ",", 
         RowBox[{"{", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{
            RowBox[{"(", 
             RowBox[{
             "\"\<}}\\\\color[HTML]{000000}\\\\color[HTML]{1111FF}{{c\>\"", "~~", 
              RowBox[{"Shortest", "[", "c__", "]"}], "~~", "\"\<::\>\""}], 
             ")"}], "\[Rule]", "\"\<\>\""}], ",", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"\"\<}}{{c\>\"", "~~", 
             RowBox[{"Shortest", "[", "c__", "]"}], "~~", "\"\<::\>\""}], 
            "\[Rule]", "\"\<\>\""}], ",", "\[IndentingNewLine]", 
           RowBox[{"\"\<[$][/$]\>\"", "\[Rule]", "\"\<\>\""}], ",", 
           "\[IndentingNewLine]", 
           RowBox[{"\"\<{{c1::}}\>\"", "\[Rule]", "\"\<\>\""}], ",", 
           "\[IndentingNewLine]", 
           RowBox[{"\"\<{{c1::<br>}}\>\"", "\[Rule]", "\"\<<br>\>\""}], ",", 
           "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{"\"\<^{\>\"", "~~", 
               RowBox[{"Shortest", "[", "c__", "]"}], "~~", "\"\<}^{\>\"", "~~", 
               RowBox[{"WhitespaceCharacter", "..."}], "~~", 
               "\"\<\\\\dagger\>\"", "~~", 
               RowBox[{"WhitespaceCharacter", "..."}], "~~", "\"\<}\>\""}], 
              ")"}], "/;", 
             RowBox[{"StringFreeQ", "[", 
              RowBox[{"c", ",", 
               RowBox[{"\"\<}\>\"", "|", "\"\<{\>\""}]}], "]"}]}], 
            "\[RuleDelayed]", 
            RowBox[{"\"\<^{\>\"", "<>", "c", "<>", "\"\<\\\\dagger}\>\""}]}], 
           ",", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{"\"\<^\>\"", "~~", "c_", "~~", "\"\<^{\>\"", "~~", 
               RowBox[{"WhitespaceCharacter", "..."}], "~~", 
               "\"\<\\\\dagger\>\"", "~~", 
               RowBox[{"WhitespaceCharacter", "..."}], "~~", "\"\<}\>\""}], 
              ")"}], "/;", 
             RowBox[{"StringFreeQ", "[", 
              RowBox[{"c", ",", 
               RowBox[{"\"\<}\>\"", "|", "\"\<{\>\""}]}], "]"}]}], 
            "\[RuleDelayed]", 
            RowBox[{"\"\<^{\>\"", "<>", "c", "<>", "\"\<\\\\dagger}\>\""}]}], 
           ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{"\"\<^{\>\"", "~~", 
               RowBox[{"Shortest", "[", "c__", "]"}], "~~", 
               "\"\<}^{\\\\mathsf{T}\>\"", "~~", 
               RowBox[{"WhitespaceCharacter", "..."}], "~~", "\"\<}\>\""}], 
              ")"}], "/;", 
             RowBox[{"StringFreeQ", "[", 
              RowBox[{"c", ",", 
               RowBox[{"\"\<}\>\"", "|", "\"\<{\>\""}]}], "]"}]}], 
            "\[RuleDelayed]", 
            RowBox[{
            "\"\<^{\>\"", "<>", "c", "<>", "\"\<\\\\mathsf{T}}\>\""}]}], ",", 
           "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{"\"\<^\>\"", "~~", "c_", "~~", "\"\<^{\>\"", "~~", 
               RowBox[{"WhitespaceCharacter", "..."}], "~~", 
               "\"\<\\\\mathsf{T}\>\"", "~~", 
               RowBox[{"WhitespaceCharacter", "..."}], "~~", "\"\<}\>\""}], 
              ")"}], "/;", 
             RowBox[{"StringFreeQ", "[", 
              RowBox[{"c", ",", 
               RowBox[{"\"\<}\>\"", "|", "\"\<{\>\""}]}], "]"}]}], 
            "\[RuleDelayed]", 
            RowBox[{
            "\"\<^{\>\"", "<>", "c", "<>", "\"\<\\\\mathsf{T}}\>\""}]}], ",", 
           "\[IndentingNewLine]", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{"\"\<^{\>\"", "~~", 
               RowBox[{"Shortest", "[", "c__", "]"}], "~~", "\"\<}^{\>\"", "~~", 
               RowBox[{"WhitespaceCharacter", "..."}], "~~", "\"\<*\>\"", "~~", 
               RowBox[{"WhitespaceCharacter", "..."}], "~~", "\"\<}\>\""}], 
              ")"}], "/;", 
             RowBox[{"StringFreeQ", "[", 
              RowBox[{"c", ",", 
               RowBox[{"\"\<}\>\"", "|", "\"\<{\>\""}]}], "]"}]}], 
            "\[RuleDelayed]", 
            RowBox[{"\"\<^{\>\"", "<>", "c", "<>", "\"\<*}\>\""}]}], ",", 
           "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{"\"\<^\>\"", "~~", "c_", "~~", "\"\<^{\>\"", "~~", 
               RowBox[{"WhitespaceCharacter", "..."}], "~~", "\"\<*\>\"", "~~", 
               RowBox[{"WhitespaceCharacter", "..."}], "~~", "\"\<}\>\""}], 
              ")"}], "/;", 
             RowBox[{"StringFreeQ", "[", 
              RowBox[{"c", ",", 
               RowBox[{"\"\<}\>\"", "|", "\"\<{\>\""}]}], "]"}]}], 
            "\[RuleDelayed]", 
            RowBox[{"\"\<^{\>\"", "<>", "c", "<>", "\"\<*}\>\""}]}], ",", 
           "\[IndentingNewLine]", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"\"\<\\\\overset{\>\"", "~~", 
             RowBox[{"WhitespaceCharacter", "..."}], "~~", 
             "\"\<\\\\mathsym{\>\"", "~~", 
             RowBox[{"WhitespaceCharacter", "..."}], "~~", 
             "\"\<\\\\OverBracket\>\"", "~~", 
             RowBox[{"WhitespaceCharacter", "..."}], "~~", "\"\<}\>\"", "~~", 
             
             RowBox[{"WhitespaceCharacter", "..."}], "~~", "\"\<}\>\""}], 
            "\[RuleDelayed]", " ", "\"\<\\\\overbrace\>\""}], ",", 
           "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"\"\<\\\\underset{\>\"", "~~", 
             RowBox[{"WhitespaceCharacter", "..."}], "~~", 
             "\"\<\\\\mathsym{\>\"", "~~", 
             RowBox[{"WhitespaceCharacter", "..."}], "~~", 
             "\"\<\\\\UnderBracket\>\"", "~~", 
             RowBox[{"WhitespaceCharacter", "..."}], "~~", "\"\<}\>\"", "~~", 
             
             RowBox[{"WhitespaceCharacter", "..."}], "~~", "\"\<}\>\""}], 
            "\[RuleDelayed]", " ", "\"\<\\\\underbrace\>\""}], ",", 
           "\[IndentingNewLine]", 
           RowBox[{"(*", 
            RowBox[{",", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"\"\<\\\\text{\>\"", "~~", 
                RowBox[{"Shortest", "[", "c__", "]"}], "~~", "\"\<}\>\""}], 
               ")"}], "\[RuleDelayed]", 
              RowBox[{"ToString", "@", 
               RowBox[{"StringReplace", "[", 
                RowBox[{"c", ",", 
                 RowBox[{"{", 
                  RowBox[{"\"\<$\>\"", "\[RuleDelayed]", "  ", "\"\<\>\""}], 
                  "}"}]}], "]"}]}]}]}], " ", "*)"}], "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"\"\<\\\\left\\\\left|\>\"", "~~", 
             RowBox[{"Shortest", "[", "c__", "]"}], "~~", 
             "\"\<\\\\right\\\\right|\>\""}], "\[RuleDelayed]", " ", 
            RowBox[{
            "\"\<\\\\left|\>\"", "~~", "c", " ", "~~", 
             "\"\<\\\\right|\>\""}]}], ",", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"\"\<\\\\right\\\\right| \>\"", "~~", 
             RowBox[{"WhitespaceCharacter", "..."}], "~~", "\"\<{}_\>\""}], 
            "\[RuleDelayed]", " ", "\"\<\\\\right|_\>\""}], ",", 
           "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"\"\<\\\\right\\\\right| \>\"", "~~", 
             RowBox[{"WhitespaceCharacter", "..."}], "~~", "\"\<_\>\""}], 
            "\[RuleDelayed]", " ", "\"\<\\\\right|_\>\""}]}], 
          "\[IndentingNewLine]", "}"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{
      "ShowStatus", "[", "\"\<Preparing final structure...\>\"", "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"npath", "=", 
       RowBox[{"NotebookFileName", "[", 
        RowBox[{"EvaluationNotebook", "[", "]"}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"final", "=", 
       RowBox[{"MapThread", "[", 
        RowBox[{"StringJoin", ",", 
         RowBox[{"{", 
          RowBox[{"base", ",", "paths", ",", 
           RowBox[{"ConstantArray", "[", 
            RowBox[{
             RowBox[{"StringJoin", "[", 
              RowBox[{"separator", ",", 
               RowBox[{"NotebookFileName", "[", 
                RowBox[{"EvaluationNotebook", "[", "]"}], "]"}]}], "]"}], ",", 
             RowBox[{"Length", "[", "paths", "]"}]}], "]"}], ",", 
           "celltags"}], "}"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"final", "=", 
       RowBox[{"MapThread", "[", 
        RowBox[{"StringJoin", ",", 
         RowBox[{"{", 
          RowBox[{"final", ",", "styleTags"}], "}"}]}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"ShowStatus", "[", "\"\<Filtering...\>\"", "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"filtered", "=", 
       RowBox[{"Select", "[", 
        RowBox[{"final", ",", 
         RowBox[{
          RowBox[{"StringMatchQ", "[", 
           RowBox[{"#", ",", "\"\<*{{c@::*\>\""}], "]"}], " ", "&"}]}], " ", 
        "]"}]}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"ShowStatus", "[", "\"\<Exporting...\>\"", "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"Export", "[", 
       RowBox[{"\"\<text.txt\>\"", ",", "filtered"}], "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"ndir", "=", 
       RowBox[{"NotebookDirectory", "[", 
        RowBox[{"EvaluationNotebook", "[", "]"}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"deck", "=", 
       RowBox[{"StringReplace", "[", 
        RowBox[{
         RowBox[{"StringReplace", "[", 
          RowBox[{"ndir", ",", 
           RowBox[{
            RowBox[{
            "e___", "~~", "\"\</Knowledge/\>\"", " ", "~~", " ", "f___", " ", 
             "~~", "\"\</\>\""}], "\[RuleDelayed]", " ", "f"}]}], "]"}], ",", 
         
         RowBox[{"\"\</\>\"", ":>", "\"\<::\>\""}]}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"PrintToConsole", "[", "deck", "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"ShowStatus", "[", "\"\<Importing to Anki...\>\"", "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"PrintToConsole", "[", "filtered", "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"PrintToConsole", "[", 
       RowBox[{"Import", "[", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
          "\"\<!export \
PYTHONPATH=/usr/local/lib/python2.7/site-packages:$PYTHONPATH;python \
~/Projects/anki/runimport -p Ranza -d \>\"", "<>", "deck", "<>", " ", 
           "\"\< -s \>\"", "<>", 
           RowBox[{"ToString", "[", "sync", "]"}], "<>", 
           "\"\< ~/text.txt\>\""}], ")"}], ",", "\"\<Text\>\""}], "]"}], 
       "]"}], ";", "\[IndentingNewLine]", 
      RowBox[{"PrintToConsole", "[", "filtered", "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"ShowStatus", "[", 
       RowBox[{"\"\<Exported \>\"", "<>", 
        RowBox[{"ToString", "[", 
         RowBox[{"Length", "@", "filtered"}], "]"}], "<>", "\"\</\>\"", "<>", 
        
        RowBox[{"ToString", "[", 
         RowBox[{"Length", "@", "final"}], "]"}], "<>", 
        "\"\< cells to anki\>\""}], "]"}], ";", "\[IndentingNewLine]", 
      RowBox[{"PrintToConsole", "[", "\"\<Finished exporting\>\"", "]"}], 
      ";"}]}], "\[IndentingNewLine]", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"End", "[", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"EndPackage", "[", "]"}], ";"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.607449022875229*^9, 3.60744902288196*^9}, {
   3.607449447584729*^9, 3.607449508018155*^9}, {3.607449545275139*^9, 
   3.607449545549201*^9}, {3.6074500469927*^9, 3.607450065380472*^9}, {
   3.6238218887143593`*^9, 3.623821917586928*^9}, {3.623821964129305*^9, 
   3.623821964407008*^9}, {3.623822542844154*^9, 3.6238226054103737`*^9}, {
   3.6238227469212914`*^9, 3.6238227484864073`*^9}, {3.623823351086124*^9, 
   3.6238233561840973`*^9}, {3.6238284524726152`*^9, 3.623828453991415*^9}, {
   3.6238295239530373`*^9, 3.62382953002454*^9}, {3.6238296055607653`*^9, 
   3.623829605778832*^9}, {3.623830653295306*^9, 3.623830680214835*^9}, 
   3.623836020866741*^9, {3.62394169534663*^9, 3.623941701129058*^9}, {
   3.624130253389833*^9, 3.624130255003293*^9}, {3.624442671033252*^9, 
   3.624442673773682*^9}, 3.6244428589259653`*^9, 3.6248832576167994`*^9, 
   3.631134669645352*^9, 3.6311347617192097`*^9, {3.63113504651194*^9, 
   3.631135057691412*^9}, {3.631135110062221*^9, 3.631135230885379*^9}, {
   3.631135280944625*^9, 3.631135281418604*^9}, {3.631135355940165*^9, 
   3.631135373708037*^9}, {3.631135415121601*^9, 3.631135423458412*^9}, {
   3.631859678871272*^9, 3.631859704283608*^9}, {3.63185975024607*^9, 
   3.631860002846671*^9}, {3.6318606547640123`*^9, 3.631860675360774*^9}, {
   3.6318836442470913`*^9, 3.6318836528508987`*^9}, {3.631884099309623*^9, 
   3.6318841307318373`*^9}, {3.6318842022224216`*^9, 
   3.6318842122593937`*^9}, {3.631884447437709*^9, 3.631884477022234*^9}, {
   3.6318851307342978`*^9, 3.631885143487755*^9}, {3.6318904544269047`*^9, 
   3.631890458263281*^9}, {3.6318908603225117`*^9, 3.6318908803204937`*^9}, {
   3.6318918524339027`*^9, 3.631891854028472*^9}, {3.64179362307586*^9, 
   3.64179364464034*^9}, {3.641793768755011*^9, 3.6417937973370953`*^9}, {
   3.641793948616894*^9, 3.64179399017295*^9}, 3.641794091598089*^9, {
   3.6417957833284607`*^9, 3.641795800237822*^9}, {3.641796006541727*^9, 
   3.6417960088497458`*^9}, {3.6417962485243597`*^9, 3.64179625851267*^9}, {
   3.643446817603923*^9, 3.643446838949203*^9}, {3.6434469000815353`*^9, 
   3.643446901986238*^9}, {3.643447145603558*^9, 3.643447151365806*^9}, {
   3.6434472256390533`*^9, 3.643447266447905*^9}, 3.643793636302738*^9, {
   3.643887287713134*^9, 3.643887288542659*^9}, {3.648979324538394*^9, 
   3.648979331833025*^9}, {3.648979915355852*^9, 3.6489799299642878`*^9}, {
   3.648979978410863*^9, 3.648980008201933*^9}, {3.648980130450554*^9, 
   3.6489801325929193`*^9}, {3.648980163148357*^9, 3.648980173710216*^9}, {
   3.648980210641265*^9, 3.6489802212156563`*^9}, {3.648981515762948*^9, 
   3.648981520762972*^9}, 3.648982552252479*^9, {3.649137030599284*^9, 
   3.649137033786933*^9}, {3.649137191648408*^9, 3.6491371931154337`*^9}, {
   3.649137997809484*^9, 3.6491379996678534`*^9}, 3.649138943576408*^9, {
   3.649139250317211*^9, 3.649139250833415*^9}, 3.64913946556496*^9, {
   3.649226263528487*^9, 3.649226295772482*^9}, {3.64922655777203*^9, 
   3.649226565194014*^9}, {3.6492266202524*^9, 3.649226661641364*^9}, {
   3.649238303882304*^9, 3.649238304789547*^9}, 3.649315256090885*^9, {
   3.649315293131295*^9, 3.649315306676834*^9}, {3.64932312632195*^9, 
   3.6493231286951027`*^9}, 3.6493238784147053`*^9, 3.649324076980714*^9, 
   3.64932418141422*^9, {3.649692185286746*^9, 3.649692263874322*^9}, {
   3.6496923863527527`*^9, 3.649692391804064*^9}, {3.649692458985216*^9, 
   3.6496924678295593`*^9}, {3.649694007005995*^9, 3.649694040179006*^9}, {
   3.649782879611392*^9, 3.649782880596951*^9}, {3.6497829303509398`*^9, 
   3.649782951628151*^9}, {3.6511446087208548`*^9, 3.6511446285086946`*^9}, {
   3.6511447029316387`*^9, 3.651144711231947*^9}, {3.651145013646202*^9, 
   3.651145027329186*^9}, {3.651145082616384*^9, 3.651145094319755*^9}, {
   3.651145969371169*^9, 3.651145978275702*^9}, {3.651385567160659*^9, 
   3.651385571648443*^9}, {3.653202387684762*^9, 3.6532024015535803`*^9}, {
   3.653202570128393*^9, 3.653202570439919*^9}, {3.6532028054076433`*^9, 
   3.653202845286605*^9}, 3.653202892039536*^9, {3.653203124760446*^9, 
   3.653203125892055*^9}, 3.65347953341508*^9, {3.654353266320047*^9, 
   3.654353318629387*^9}, {3.654353368366047*^9, 3.654353424560232*^9}, {
   3.6543535520268173`*^9, 3.654353556411378*^9}, {3.65435453675876*^9, 
   3.654354542953511*^9}, 3.654354789282733*^9, {3.654355006024674*^9, 
   3.65435501487245*^9}, 3.654355171044422*^9, {3.654356362123364*^9, 
   3.654356394099475*^9}, {3.654356585504972*^9, 3.6543566065554533`*^9}, 
   3.6618537190343943`*^9, 3.661853752082735*^9, {3.662357709542639*^9, 
   3.6623577114604*^9}, {3.662877841599715*^9, 3.662877853008133*^9}, 
   3.662877903828191*^9, {3.6628779736731033`*^9, 3.662877977507757*^9}, {
   3.662878024365193*^9, 3.6628781356846867`*^9}, {3.662878166843431*^9, 
   3.6628781755304832`*^9}, {3.662878386636732*^9, 3.662878401581835*^9}, {
   3.662878652314883*^9, 3.6628786806192703`*^9}, {3.6628789044733677`*^9, 
   3.6628789165525217`*^9}, {3.6628791088914557`*^9, 3.662879122372097*^9}, {
   3.6628792668330727`*^9, 3.662879274420703*^9}, {3.662879306929324*^9, 
   3.6628793137976227`*^9}, {3.6628793589823723`*^9, 3.662879380544898*^9}, {
   3.66287943555198*^9, 3.662879474478507*^9}, {3.6628796508531*^9, 
   3.662879654771102*^9}, {3.662879712211882*^9, 3.662879755773623*^9}, {
   3.662879896644771*^9, 3.662879924537298*^9}, {3.662925697497366*^9, 
   3.662925698800812*^9}, {3.663496849053315*^9, 3.6634969386271667`*^9}, {
   3.665309153712616*^9, 3.6653091546938887`*^9}, {3.666685062293293*^9, 
   3.666685102450686*^9}, 3.66668546701372*^9, {3.66668593854073*^9, 
   3.6666859622491083`*^9}, {3.6666860290468473`*^9, 
   3.6666860580896893`*^9}, {3.666686111720924*^9, 3.6666861352918863`*^9}, {
   3.6666865730133247`*^9, 3.666686586563023*^9}, {3.6666912739121847`*^9, 
   3.666691329081683*^9}, {3.6666915177299643`*^9, 3.666691518488735*^9}, {
   3.666691878227865*^9, 3.6666918979139843`*^9}, {3.666692426891385*^9, 
   3.666692428151021*^9}, {3.666692481216773*^9, 3.6666924830902433`*^9}, 
   3.666702909971808*^9, {3.666702952464798*^9, 3.666702999756895*^9}, {
   3.666703040128456*^9, 3.6667030649681063`*^9}, {3.6667038353421297`*^9, 
   3.666703866751783*^9}, {3.6667041167308397`*^9, 3.666704127411579*^9}, {
   3.666705333103278*^9, 3.6667053366025743`*^9}, 3.66670539845406*^9, {
   3.666708006077963*^9, 3.666708009821781*^9}, {3.666709938976502*^9, 
   3.66670995581584*^9}, {3.6667102871116867`*^9, 3.666710324670627*^9}, {
   3.666711123420342*^9, 3.6667111421698027`*^9}, {3.666711449258236*^9, 
   3.666711452533702*^9}, {3.666711504139539*^9, 3.666711504370193*^9}, {
   3.669207135212615*^9, 3.669207166290824*^9}, {3.669207198369543*^9, 
   3.6692072037275877`*^9}, {3.670472984656197*^9, 3.6704729867815*^9}, {
   3.674549213926531*^9, 3.6745492249322*^9}, {3.674549272622463*^9, 
   3.674549304298717*^9}, 3.674549401880896*^9, {3.674549993071929*^9, 
   3.6745500365576887`*^9}, {3.6745500729978867`*^9, 3.674550098289062*^9}, {
   3.6745501597356377`*^9, 3.6745501687570457`*^9}, {3.6745519781678457`*^9, 
   3.6745519811541243`*^9}, {3.6745528725877953`*^9, 3.674552884036889*^9}, {
   3.674553096081375*^9, 3.674553112306526*^9}, {3.674553211698689*^9, 
   3.674553218047468*^9}}]
},
AutoGeneratedPackage->Automatic,
WindowSize->{718, 855},
WindowMargins->{{Automatic, 0}, {Automatic, 0}},
FrontEndVersion->"10.4 for Mac OS X x86 (32-bit, 64-bit Kernel) (April 11, \
2016)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[557, 20, 59244, 1260, 4707, "Input",
 InitializationCell->True]
}
]
*)

